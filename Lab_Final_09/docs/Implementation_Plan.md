# Implementation Plan

## 1. Краткое описание задачи
Разработка консольного приложения на C++ для учета и анализа посещаемости студентов на основе данных в формате JSON. Необходимо реализовать собственный парсер JSON, логику валидации временных меток и расчет статистики присутствия.

## 2. Цель и ожидаемый результат
**Цель:** Закрепить навыки работы со строками, файловым вводом/выводом, STL (vector, map) и проектированием архитектуры ПО без использования сторонних библиотек сериализации.
**Результат:**
1. Исполняемый файл (CLI) с интерактивным меню.
2. Библиотека `simple_json` для работы с форматом данных.
3. Отчет о производительности на выборках до 500,000 записей.

## 3. Этапы и задачи реализации

1.  **Анализ и подготовка среды**
    *   Изучение формата JSON.
    *   Настройка Solution в VS (разделение на проекты Main, Tests).
    *   Настройка кодировок (UTF-8) и стандартов (C++20).

2.  **Реализация JSON Парсера (Core)**
    *   Разработка лексера и парсера (Recursive Descent).
    *   Реализация класса `json::Value` (Variant-like).
    *   Обработка экранирования строк и чисел.

3.  **Моделирование предметной области**
    *   Создание структур `AttendanceRecord`.
    *   Реализация конвертации `ISO 8601 string` -> `timestamp` (time_t).
    *   Валидация данных (проверка типов событий IN/OUT/ABSENCE).

4.  **Бизнес-логика и Алгоритмы**
    *   Группировка записей по студентам (`std::map`).
    *   Сортировка по времени.
    *   Алгоритм расчета часов присутствия (поиск пар IN-OUT).

5.  **Разработка CLI и UX**
    *   Реализация меню и обработки аргументов (`getopt`-style).
    *   Настройка форматированного вывода (таблицы) с учетом ширины Unicode-символов.
    *   Обработка ошибок ввода (защита от бесконечных циклов).

6.  **Генераторы и Тестирование**
    *   Написание Unit-тестов для парсера (`test_parser.cpp`).
    *   Создание генератора больших данных (`generator.cpp`).
    *   Проведение нагрузочного тестирования.

7.  **Оптимизация и Документирование**
    *   Анализ узких мест (profiling).
    *   Написание отчетов (`bench.md`, `Report.md`).

## 4. План-график
*   **Этап 1-2:** 1 день (Настройка, Парсер).
*   **Этап 3-4:** 1 день (Логика посещаемости).
*   **Этап 5:** 1 день (Интерфейс, UTF-8 фиксы).
*   **Этап 6-7:** 1 день (Тесты, Отчеты).

## 5. Ресурсы
*   **Язык:** C++20 (MSVC v143).
*   **IDE:** Visual Studio 2022 Community.
*   **Спецификации:** RFC 8259 (JSON Data Interchange Format).
*   **Материалы:** Документация cppreference.com (filesystem, chrono).
```
